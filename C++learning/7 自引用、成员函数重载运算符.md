* #  自引用、成员函数重载运算符
* 成员函数 返回“自引用”（\*this）

\#include <iostream>

using namespace std;



struct Data

{

 	int d, m, y;

 

 	void init(int dd, int mm, int yy)

 	{

 		d = dd;

 		m = mm;

 		y = yy;

 	}



 	void print()

 	{

 		cout << y << "-" << m << "-" << d << endl;

 	}



 	Data\& add(int dd)

 	{

 		d = d + dd;

 		return \*this;	//this是指向调用这个函数的类型对象指针

 						//通过返回自引用，可以连续调用这个函数

 						//data.add(3）；

 						//data.add(3).add(3);

 	}



};

 

int main()

{

 	Data data;

 	data.print();			//输出随意值

 	data.init(2, 3, 2008);

 	data.print();

 

 	data.y = 2025;

 	data.print();

 	cout << data.d << endl;



 	data.add(3);

 	data.print();



 	data.add(3).add(3).add(3);

 	data.print();

 

 	return 0;

}



运行结果：

-858993460--858993460--858993460

2008-3-2

2025-3-2

2

2025-3-5

2025-3-14



* 成员函数重载 “运算符函数”

\#include <iostream>

using namespace std;



struct Data 

{

&nbsp;	int d, m, y;

&nbsp;	

&nbsp;	void init(int dd, int mm, int yy) 

&nbsp;	{

&nbsp;		d = dd; 

&nbsp;		m = mm;

&nbsp;		y = yy;

&nbsp;	}



&nbsp;	void print()

&nbsp;	{

&nbsp;		cout << y << "-" << m << "-" << d << endl;

&nbsp;	}



&nbsp;	Data\& operator += (int dd) //运算符重载

&nbsp;	{

&nbsp;		d = d + dd;

&nbsp;		return \*this;	//this是指向调用这个函数的类型对象指针

&nbsp;		//通过返回自引用，可以连续调用这个函数

&nbsp;		//data.add(3）；

&nbsp;		//data.add(3).add(3);

&nbsp;	}

};

&nbsp;

int main()

{

&nbsp;	Data data;	

&nbsp;	data.print();			//输出随意值

&nbsp;	data.init(2, 3, 2008);

&nbsp;	data.print();

&nbsp;	

&nbsp;	data.y = 2025;

&nbsp;	data.print();

&nbsp;	cout << data.d << endl;



&nbsp;	data += 3;

&nbsp;	data.print();



&nbsp;	(data += 3) += 7;

&nbsp;	data.print();

&nbsp;	

&nbsp;	return 0;

}





